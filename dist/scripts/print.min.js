!function(s){"use strict";function f(t){var n=s("");try{n=s(t).clone()}catch(e){n=s("<span />").html(t)}return n}function p(t){var n=s.Deferred();try{setTimeout(function(){t.focus();try{t.document.execCommand("print",!1,null)||t.print()}catch(e){t.print()}t.close(),deferred.resolve()},250)}catch(e){n.reject(e)}return n}function u(e){var t=window.open();return t.document.write(e),t.document.close(),p(t)}function m(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}s.print=s.fn.print=function(){var t,n=this;n instanceof s&&(n=n.get(0)),m(n)?(t=s(n),0<arguments.length&&(r=arguments[0])):0<arguments.length?m((t=s(arguments[0]))[0])?1<arguments.length&&(r=arguments[1]):(r=arguments[0],t=s("html")):t=s("html");var n={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:s.Deferred()},r=s.extend({},n,r||{}),n=s("");r.globalStyles?n=s("style, link, meta, title"):r.mediaPrint&&(n=s("link[media=print]")),r.stylesheet&&(n=s.merge(n,s('<link rel="stylesheet" href="'+r.stylesheet+'">')));var o=t.clone();(o=s("<span/>").append(o)).find(r.noPrintSelector).remove(),o.append(n.clone()),o.append(f(r.append)),o.prepend(f(r.prepend)),r.manuallyCopyFormValues&&o.find("input, select, textarea").each(function(){var e=s(this);e.is("[type='radio']")||e.is("[type='checkbox']")?e.prop("checked")&&e.attr("checked","checked"):e.is("select")?e.find(":selected").attr("selected","selected"):e.attr("value",e.val())});var c=o.html();try{r.deferred.notify("generated_markup",c,o)}catch(e){console.warn("Error notifying deferred",e)}if(o.remove(),r.iframe)try{var i,a,l=s(r.iframe+""),d=l.length;0===d&&(l=s('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),(a=(i=(i=l.get(0)).contentWindow||i.contentDocument||i).document||i.contentDocument||i).open(),a.write(c),a.close(),p(i).done(function(){setTimeout(function(){0===d&&l.remove()},100)}).fail(function(){console.error("Failed to print from iframe",e.stack,e.message),u(c)}).always(function(){try{r.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}catch(e){console.error("Failed to print from iframe",e.stack,e.message),u(c).always(function(){try{r.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}else u(c).always(function(){try{r.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}});return this}}(jQuery);